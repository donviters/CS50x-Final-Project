{% extends "layout.html" %}

{% block title %}
    Head to Head
{% endblock %}

{% block main %}
    <script>
        function validateForm() {
            var player1 = document.forms["head_to_head_form"]["player1"].value;
            var player2 = document.forms["head_to_head_form"]["player2"].value;

            if (player1 == "" || player1 == null || player2 == "" || player2 == null ) {
                alert("Complete all fields");
                return false;
            }

            if (player1 == player2) {
                alert("Choose 2 different players");
                return false;
            }
        }
    </script>

    <form action="head_to_head" method="post" name="head_to_head_form" onsubmit="return validateForm()" required>
        <div class="mb-3">
            <select class="form-select mx-auto w-auto" id="player1" name="player1" >
                <option disabled selected value="">Player 1</option>
                {% for player in players %}
                    <option value="{{ player['id'] }}">{{ player["first_name"] }} {{ player["last_name"] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <select class="form-select mx-auto w-auto" id="player2" name="player2" >
                <option disabled selected value="">Player 2</option>
                {% for player in players %}
                    <option value="{{ player['id'] }}">{{ player["first_name"] }} {{ player["last_name"] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-2" style="color:White;">
            Example: Roger Federer & Andre Agassi
        </div>

        <button class="btn btn-primary" type="submit">Show Head to Head Detail</button>
    </form>
{% endblock %}
